import {meta} from '../../lib/blog-posts'
import BlogLayout from '../../components/blog-layout/blog-layout'
import LiteYouTubeEmbed from 'react-lite-youtube-embed';
import 'react-lite-youtube-embed/dist/LiteYouTubeEmbed.css'

I recently came across an article, [Why I'm not the biggest fan of Single Page Applications](https://www.matuzo.at/blog/2023/single-page-applications-criticism/). 
Interesting article about criticising single page applications.

Overview topics I will be discussing about:

- [What is SPAs](#what-spa)
- [Learn HTML First](#learn-html)
- [When To Create Single Page Website](#when)
- [Advantages of SPA Architecture](#advantages)
- [Not SEO Friendly](#seo)
- [Performance](#performance)
- [Should I Use A Javascript Library?](#use-js)
- [Conclusion](#conclusion)

<div id="what-spa">
    ## What is SPA?
</div>

SPA stands for (single page application). Here is a quick description from Wikipedia.

> "A single-page application (SPA) is a web application or website that interacts with the user by dynamically rewriting the current web page with new data from the web server, instead of the default method of a web browser loading entire new pages. The goal is faster transitions that make the website feel more like a native app. "

> "In a SPA, a page refresh never occurs; instead, all necessary HTML, JavaScript, and CSS code is either retrieved by the browser with a single page load,[1] or the appropriate resources are dynamically loaded and added to the page as necessary, usually in response to user actions."

A clear explanation if more info needed?

<LiteYouTubeEmbed id="xfGciVdbktI" title="What Is A Single Page Application?" />

<div id="learn-html">
    ## Learn HTML, CSS, JS First!
</div>

As mentioned in the article, Meta (Facebook) marketed the library in a particular way where developers went crazy and created 
lots of components. The community is great and components are abundant but are heavily dependant on Javascript.

ReactJS uses JSX, which kinda looks like HTML, but it’s not really HTML because it’s a mix of HTML with component tags and fake attributes. A ReactJS
developer will learn and use className to add a specific style class but in the real HTMl world it's just call 'class'!

Actually, I wrote an article about why we should choose [Web Components Over ReactJS](https://jgsolutions.ca/posts/reactjs-vs-web-components/). Web
components are more native to the browser and require less Javascript depending how complexity of the component. But JSX is 100% javascript that needs
to be rendered and executed.

For developers, I recommend to learn HTML, CSS and JavaScript first! Don't jump in the bag wagon with ReactJS and build simple
sites as single page app.

For business owners be careful when choosing a freelance developer for your website. If you think ReactJS is the right way,
you might run into suprises that can costly heavily in the long run.

<div id="when">
    ## When To Use SPAs?
</div>

The question your probably asking yourself is 'When do we use SPAs?' 

Simple! If your developing a complex web application or some tool which requires users to authenticate. Examples of web apps based
on single page application:

- Gmail
- Google Analytics
- Twitter
- Figma
- Google Maps
- Netflix

On the otherhand, if your developing an ecommerce, blog or basic business website, then stick with the traditional way of serving
websites from the server or use a static server generator frameworks. I will explain more of this in the SEO section.

<div id="advantages">
    ## Advantages of SPA Architecture
</div>

Users will instantly get the view and data renderd as they navigate across a SPA, providing a
a native mobile app experience.

Hosting SPAs are just static files like CSS, JS and HTML that can be hosted in serverless cloud

- All resources loaded initially

<div id="seo">
    ## Not SEO Friendly 
</div>

One huge disadvantage of SPAs, they're not SEO friendly. Usually SPAs static files are initially loaded and content are rendered with Javascript.
Google search engine crawlers can't execute and crawl these pages properly. By manually viewing the source code from the browser, the body
tag usually contains some empty div HTML elements which the views are injected in those elements. 

Since routing is not native the search engines can't crawl the other pages. Title and meta description tags are also not updated as navigating to 
other pages. 

If SEO is not important for your web project then don't focus on SEO and worry about the negative aspects of SPAs. Focus on the UX experience that
your users will enjoy and grow your product successfully!

<div id="performance">
    ## Performance 
</div>

The article mentions about performance issues with SPAs. How the initial load of Javascript can provide slow response times. 
It could be problematic especially if your trying to accomplish a high score on Lighthouse. There are ways to solve this issue.

**Lazy Load or Tree Shaking**  
Usuallu SPAs initial load begins with a specific route. It maybe a /login, /dashboard, /registration etc. You will have initial Javascript code that will
execute theinital app. Once that is loaded, only then the Javascript for that specific view is rendered. All your other views will not be loaded on the client
side until they navigate to that view! Frameworks like Angular CLI, Vue.js and React Routing offer this pattern. With Lighthouse, I was able to reach scores
for performance over 90 and above.

**Service Workers**  
One key point that was never mentioned in the article were Service Workers. Service Workers are another great way to improve performance on SPAs.
I wrote an article on [Current State of Progressive Web Apps](https://jgsolutions.ca/posts/current-state-of-pwa/). I provided a quick overview on the state of PWAs and how
it's transforming the web.

Service workers, allow you to cache your static files like JS, CSS, images etc. When users loads the app, the inital load and response times are quicker. 
Service workers also handle situations for offline usage if the user comes across a flaky connection. That is a whole other topic but overall service workers
have lots of other great features to enhance your SPAs especially converting your app into a PWA. 

If your site is architected the traditional way, then service workers can't be used. As every interaction the user performs, page reloads will occur
and the service worker will restart and re-initialize. I can be totally wrong about this but from my experince I never saw this. If anyone has any
good solutions to this please email!

<div id="use-js">
    ## Should I Use A Javascript Library?
</div>

You shouldn't completely ignore JS libraries or frameworks. Developers just have to be clever how to use it properly! Don't go crazy 
and develop components all over your site and loading KBs of Javascript! 

If your in love with ReactJS or some other library and need to use it, there are frameworks like Next.js, Astro that help you
manage the load of Javascript being loaded by the client.

These frameworks allow you develop on any type of library your comfortable with. For example, with Astro, you can
use Web components, Lit, Vue.js or ReactJS. Huge advantage as you can create resuable components within your site.
You then build, compile and export all your pages into static HTML pages. 

<div id="conclusion">
    ## Conclusion
</div>

I am not hating JS frameowrks like ReactJS or Angular. These are wonderful tools and communities helping developers building single page
apps quickly. But we developers have to be smart on how to use these tools properly. 

I totally disagree with the article and developers shouldn't have that mindeset. I strongly believe SPAs has its place as we should continue
to use this strategy in web development, and push the web platform to its limits.
 
For myself, I' m a big fan on SPAs and one of the main reasons I became a front-end developer through my career. 
I love the technical complexity that comes with developing SPAs with Javascript which requires
good programming knowledge.

export default ({ children }) => <BlogLayout meta={meta['site-architecture-between-spa-mpa-ssg']}>{children}</BlogLayout>